--(a) Write Oracle OR-SQL statements to develop the above database schema.
create type dept_t

CREATE TYPE Emp_t AS OBJECT(
    eno NUMBER(4),
    ename VARCHAR2(15),
    edept ref Dept_t,
    salary NUMBER(8,2)
);
CREATE TYPE Dept_t AS OBJECT(
    dno NUMBER(2),
    dname VARCHAR2(12),
    mgr REF emp_t
);
CREATE TYPE Proj_t AS OBJECT (
    pno number(4),
    pname VARCHAR2(15),
    pdept ref dept_t,
    budget number(10,2)
);



CREATE TABLE Dept OF Dept_t (dno PRIMARY KEY);

CREATE TABLE Emp OF Emp_t (
    eno PRIMARY KEY,
    CONSTRAINT emp_fk FOREIGN KEY (edept) REFERENCES Dept
);

ALTER TABLE Dept
ADD CONSTRAINT dept_fk FOREIGN KEY (mgr) REFERENCES Emp

CREATE TABLE Proj OF Proj_t (
    pno PRIMARY KEY,
    CONSTRAINT Proj_fk FOREIGN KEY (pdept) REFERENCES Dept
);


--Inserting data into tables

INSERT INTO dept VALUES (Dept_t('1','IT',null))
INSERT INTO emp VALUES (Emp_t('1','Kasun',10000,(SELECT REF(d) FROM dept d WHERE d.dno = '1')))

UPDATE dept d
SET mgr = (SELECT REF(e)
               FROM emp e
               WHERE e.eno = 1)
WHERE d.dno = 1;

SELECT e.eno,e.ename,e.salary, e.edept.dno FROM emp e
SELECT d.dno,d.dname,d.mgr.eno FROM dept d 
